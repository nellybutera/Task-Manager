{% extends 'base.html' %}
{% block title %}My Tasks{% endblock %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <h1 class="h3">My Tasks</h1>
  <a href="{% url 'task_create' %}" class="btn btn-primary">+ New Task</a>
</div>

{% if tasks %}
  <div class="list-group">
    {% for task in tasks %}
      <div class="list-group-item d-flex justify-content-between align-items-center">
        <div>
          <a href="{% url 'task_toggle' task.pk %}" class="me-2 btn btn-sm btn-outline-secondary">
            {% if task.completed %}✓{% else %}○{% endif %}
          </a>
          {% if task.completed %}
            <span class="text-decoration-line-through">{{ task.title }}</span>
          {% else %}
            <strong>{{ task.title }}</strong>
          {% endif %}
          {% if task.description %}
            <div class="text-muted small">{{ task.description }}</div>
          {% endif %}
        </div>
        <div>
          <a href="{% url 'task_update' task.pk %}" class="btn btn-sm btn-outline-primary me-2">Edit</a>
          <a href="{% url 'task_delete' task.pk %}" class="btn btn-sm btn-outline-danger">Delete</a>
        </div>
      </div>
    {% endfor %}
  </div>
{% else %}
  <p>No tasks yet. Create your first one!</p>
{% endif %}
{% endblock %}
